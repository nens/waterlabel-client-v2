import React, { useState, useEffect } from 'react';
import { Map, TileLayer, Marker, FeatureGroup, Polygon } from "react-leaflet";

import {getPolygonBounds, getPolygonCenter} from './utils/polygonFunctions';
import './MapBuilding.css';

export default function MapBuilding (props) {
  const { buildingGeoJSON, waterLabelColor, selectedAddress, surroundingBuildings, labelColors } = props;
  // if (surroundingBuildings) {
  // 	return null;
  // }
  // console.log(surroundingBuildings);
  const polygonBounds = getPolygonBounds(buildingGeoJSON);
  const polygonCenter = getPolygonCenter(polygonBounds);
  // zoomlevel 19 is the most zoomed in where you still get a basemap
  const zoomLevel = 19;
  let position = [polygonCenter.yMean, polygonCenter.xMean];
  let latlngs = [];
  const [buildingCoordsAndLabels, setBuildingCoordsAndLabels] = useState([]);

  if (buildingGeoJSON) {
    for (var i = 0; i < buildingGeoJSON.coordinates[0].length; i++) {
      // GeoJSON has longitude first
      let lng = buildingGeoJSON.coordinates[0][i][0];
      let lat = buildingGeoJSON.coordinates[0][i][1];
      // Polygon of react-leaflet has latitude first
      latlngs.push([lat, lng]);
    }
  }

  useEffect(() => {
    // let buildingCoordsAndLabels;
    fetch( // worden momenteel heel veel requests gestuurd
      `/api/v2/buildings/?in_bbox=${[5.558007963674824,52.02884037368467,5.55922798548451,52.02918930582589]}`,
      {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json',
        },
      }
    )
    .then(function(response) {
      if (response.status !== 200) {
        throw new Error("building get status not 200: " + response.status);
      }
      // console.log(response);
      return response.json();
    })
    .then(function(parsedJSON) {
      // that.setState({
      //   saveWaterlabelState: "RECEIVED",
      //   guiShowSuccesSave: true,
      //   guiShowEmail: false,
      // });
      // that.fetchWaterlabelsFromBuilding();
      // console.log(parsedJSON);
     let buildingCoordsAndLabels = parsedJSON.results.map((building) => {
        // console.log(parsedJSON.results[i]); // building
        // console.log(building.geometry.coordinates[0]); // building geometry
        // console.log(building);
        // buildingCoordsAndLabels = parsedJSON.map((surroundingBuilding) {
        // 	for (var i = 0; i < surroundingBuilding.length; i++) {
        // 		surroundingBuilding[i]
        // 	}
        // 	return ({
        // 		geometry: geometry,
        // 		// leafletCoords: invertedCoords
        // 	});
        // });
        let invertedCoords = building.geometry.coordinates[0].map((coord) => {
          // console.log(coord);
          // let latlng = [];
          let lng = coord[0]; // GeoJSON thinks lng should be first
          let lat = coord[1];
          // for (var i = 0; i < coord.length; i++) {
          // 	lng = coord[0];
          // 	lat = coord[1];
          //   latlng.push([lat, lng]);
          // }
          return ([lat, lng]); // Makes polygon react-leaeflet happy
        });
        // console.log(invertedCoords); //klopt
        // for (var i = 0; i < parsedJSON.results[i].geometry.coordinates[0].length; i++) {
        //   parsedJSON.results[i].geometry.coordinates[i]
        // }
        let waterlabel = "";  // default and worst label
        // console.log(building.waterlabels[0] && building.waterlabels[0].code); // building waterlabel // undefined // array met laatste als laatste // of halen uit waterlabels[i]code 
        if (building.waterlabels.length !== 0) {
          // console.log(building.waterlabels[0].code);
          waterlabel = building.waterlabels[0].code;
        } else {
        	waterlabel = "G";
        }
        // console.log(waterlabel);
  
        // console.log(labelColors);
        let color = labelColors[waterlabel];
        if (waterlabel) {
        	if (waterlabel === "A++") {
        		color = labelColors.APlusPlus;
        	} else if (waterlabel === "A+") {
        		color = labelColors.APlus;
        	} else {
        		color = labelColors[waterlabel];
        	}
        }
        // console.log(color);
        // // console.log(waterlabel);
        // console.log(labelColors);
        // if (waterlabel === "A++") {
        //   color = labelColors.APlusPlus;
        // } else if (waterlabel === "A+") {
        // 	color = labelColors.APlus;
        // } else if (waterlabel) {
        // 	color = labelColors.waterlabel;
        // } else {
        // 	color = labelColors.G;
        // }
        return ({ coords: invertedCoords, color: color });
      });
      // console.log(parsedJSON);
      // console.log(buildingCoordsAndLabels);// moet in setState
      setBuildingCoordsAndLabels(buildingCoordsAndLabels);
      // surroundingBuildings = buildingCoordsAndLabels;
    })
    .catch(error => {
      // that.setState({saveWaterlabelState: "FAILED"})
      console.error('Error:', error);
    });
  }, [buildingGeoJSON]); // Only re-run the effect if count changes



  // let surroundingBuildingsCoords = [
  //       [
  //         [
  //           5.558183839491989,
  //           52.02923411345772
  //         ],
  //         [
  //           5.558099012892382,
  //           52.02925165573401
  //         ],
  //         [
  //           5.558115213379071,
  //           52.02928138289277
  //         ],
  //         [
  //           5.558028683347841,
  //           52.029299332059196
  //         ],
  //         [
  //           5.55798306209029,
  //           52.029215907602534
  //         ],
  //         [
  //           5.557926801098701,
  //           52.02911267076411
  //         ],
  //         [
  //           5.55790702823919,
  //           52.02907845470038
  //         ],
  //         [
  //           5.557856435355767,
  //           52.02898654362798
  //         ],
  //         [
  //           5.557935225350694,
  //           52.028975688467035
  //         ],
  //         [
  //           5.557934901180531,
  //           52.02897474518424
  //         ],
  //         [
  //           5.557997410397648,
  //           52.02896653814754
  //         ],
  //         [
  //           5.558012867533867,
  //           52.02896571575674
  //         ],
  //         [
  //           5.558017804850053,
  //           52.02896508840535
  //         ],
  //         [
  //           5.5580171413518356,
  //           52.0289630490641
  //         ],
  //         [
  //           5.55810431050384,
  //           52.028952370370824
  //         ],
  //         [
  //           5.558165453284326,
  //           52.028945037078685
  //         ],
  //         [
  //           5.558166190675836,
  //           52.02894734595551
  //         ],
  //         [
  //           5.558184513065907,
  //           52.02894513520556
  //         ],
  //         [
  //           5.55834231906749,
  //           52.02919598002945
  //         ],
  //         [
  //           5.5583348643820285,
  //           52.02919752784623
  //         ],
  //         [
  //           5.558337491088874,
  //           52.02920234166028
  //         ],
  //         [
  //           5.558324430772451,
  //           52.029205039124925
  //         ],
  //         [
  //           5.558273922184175,
  //           52.029215484899964
  //         ],
  //         [
  //           5.558253072300289,
  //           52.029219802561265
  //         ],
  //         [
  //           5.558267331376081,
  //           52.029244804768034
  //         ],
  //         [
  //           5.558197137574717,
  //           52.02925931480873
  //         ],
  //         [
  //           5.558183839491989,
  //           52.02923411345772
  //         ]
  //       ],
  //       [
  //         [
  //           5.558529664351089,
  //           52.02908930582589
  //         ],
  //         [
  //           5.558524836563949,
  //           52.029091901439
  //         ],
  //         [
  //           5.558419359643931,
  //           52.029158180685926
  //         ],
  //         [
  //           5.558362142165282,
  //           52.029193704151396
  //         ],
  //         [
  //           5.55836124701804,
  //           52.02919206062684
  //         ],
  //         [
  //           5.55834231906749,
  //           52.02919598002945
  //         ],
  //         [
  //           5.558184513065907,
  //           52.02894513520556
  //         ],
  //         [
  //           5.558407963674824,
  //           52.02891795362399
  //         ],
  //         [
  //           5.558470124059828,
  //           52.029016624665395
  //         ],
  //         [
  //           5.558529664351089,
  //           52.02908930582589
  //         ]
  //       ],
  //       [
  //         [
  //           5.559412379325888,
  //           52.02905277422245
  //         ],
  //         [
  //           5.559269013732034,
  //           52.02907247031025
  //         ],
  //         [
  //           5.559187499188148,
  //           52.0290871592902
  //         ],
  //         [
  //           5.559005816830757,
  //           52.02911990791276
  //         ],
  //         [
  //           5.558978965616507,
  //           52.02912474679224
  //         ],
  //         [
  //           5.55895283604046,
  //           52.029078424191816
  //         ],
  //         [
  //           5.559040118429222,
  //           52.02905928681268
  //         ],
  //         [
  //           5.559054180701628,
  //           52.029055706967995
  //         ],
  //         [
  //           5.559098987864811,
  //           52.029044316449
  //         ],
  //         [
  //           5.559289575892001,
  //           52.02899716465992
  //         ],
  //         [
  //           5.559324618686867,
  //           52.029015718805475
  //         ],
  //         [
  //           5.559383748846907,
  //           52.029007956395795
  //         ],
  //         [
  //           5.559384644996295,
  //           52.029009851578756
  //         ],
  //         [
  //           5.559399273158919,
  //           52.02901702066473
  //         ],
  //         [
  //           5.559402302893686,
  //           52.02901672860882
  //         ],
  //         [
  //           5.559412379325888,
  //           52.02905277422245
  //         ]
  //       ],
  //       [
  //         [
  //           5.5586293306320504,
  //           52.02917233672839
  //         ],
  //         [
  //           5.558626852432984,
  //           52.02916825973076
  //         ],
  //         [
  //           5.558603403745726,
  //           52.02912178034776
  //         ],
  //         [
  //           5.558708984372793,
  //           52.0290978618274
  //         ],
  //         [
  //           5.5587482876901095,
  //           52.029136938813544
  //         ],
  //         [
  //           5.5586293306320504,
  //           52.02917233672839
  //         ]
  //       ],
  //       [
  //         [
  //           5.559289575892001,
  //           52.02899716465992
  //         ],
  //         [
  //           5.559098987864811,
  //           52.029044316449
  //         ],
  //         [
  //           5.559054180701628,
  //           52.029055706967995
  //         ],
  //         [
  //           5.559041082801166,
  //           52.02903721056309
  //         ],
  //         [
  //           5.559081596749924,
  //           52.0290272194829
  //         ],
  //         [
  //           5.559073669045183,
  //           52.029015618407556
  //         ],
  //         [
  //           5.559104050595188,
  //           52.029008059932075
  //         ],
  //         [
  //           5.559099976972618,
  //           52.029002133721846
  //         ],
  //         [
  //           5.559149630284736,
  //           52.02898916317819
  //         ],
  //         [
  //           5.559155066749644,
  //           52.028997091746625
  //         ],
  //         [
  //           5.559195168977265,
  //           52.02898614848767
  //         ],
  //         [
  //           5.559183566538273,
  //           52.0289700497415
  //         ],
  //         [
  //           5.559248168378775,
  //           52.02895285085306
  //         ],
  //         [
  //           5.559253882057641,
  //           52.028960868892725
  //         ],
  //         [
  //           5.559279061006349,
  //           52.028987275127925
  //         ],
  //         [
  //           5.559287414943068,
  //           52.02899602632953
  //         ],
  //         [
  //           5.559289575892001,
  //           52.02899716465992
  //         ]
  //       ],
  //       [
  //         [
  //           5.559248168378775,
  //           52.02895285085306
  //         ],
  //         [
  //           5.559183566538273,
  //           52.0289700497415
  //         ],
  //         [
  //           5.559195168977265,
  //           52.02898614848767
  //         ],
  //         [
  //           5.559155066749644,
  //           52.028997091746625
  //         ],
  //         [
  //           5.559149630284736,
  //           52.02898916317819
  //         ],
  //         [
  //           5.559099976972618,
  //           52.029002133721846
  //         ],
  //         [
  //           5.559104050595188,
  //           52.029008059932075
  //         ],
  //         [
  //           5.559073669045183,
  //           52.029015618407556
  //         ],
  //         [
  //           5.559081596749924,
  //           52.0290272194829
  //         ],
  //         [
  //           5.559041082801166,
  //           52.02903721056309
  //         ],
  //         [
  //           5.559026548808693,
  //           52.029016604044784
  //         ],
  //         [
  //           5.559053564730378,
  //           52.029009140380445
  //         ],
  //         [
  //           5.559036161539288,
  //           52.02898509560269
  //         ],
  //         [
  //           5.559154011295782,
  //           52.028957527552876
  //         ],
  //         [
  //           5.5591436825568685,
  //           52.028939188896814
  //         ],
  //         [
  //           5.559197497001645,
  //           52.02892460337467
  //         ],
  //         [
  //           5.559228212783191,
  //           52.028931991634174
  //         ],
  //         [
  //           5.559232139113648,
  //           52.02893750460159
  //         ],
  //         [
  //           5.559236418661215,
  //           52.02893634786169
  //         ],
  //         [
  //           5.559248168378775,
  //           52.02895285085306
  //         ]
  //       ],
  //       [
  //         [
  //           5.558407963674824,
  //           52.02891795362399
  //         ],
  //         [
  //           5.558556125263742,
  //           52.028895006882905
  //         ],
  //         [
  //           5.558555978139519,
  //           52.028894638584
  //         ],
  //         [
  //           5.558638842742482,
  //           52.028882464748605
  //         ],
  //         [
  //           5.558639078224903,
  //           52.028883075597996
  //         ],
  //         [
  //           5.558791728506017,
  //           52.02886037368467
  //         ],
  //         [
  //           5.558811504331883,
  //           52.02886861390884
  //         ],
  //         [
  //           5.55882798548451,
  //           52.02891064530849
  //         ],
  //         [
  //           5.558707166953551,
  //           52.028992451721535
  //         ],
  //         [
  //           5.558616595942235,
  //           52.02904320489045
  //         ],
  //         [
  //           5.55861604078445,
  //           52.02904282819822
  //         ],
  //         [
  //           5.558529664351089,
  //           52.02908930582589
  //         ],
  //         [
  //           5.558470124059828,
  //           52.029016624665395
  //         ],
  //         [
  //           5.558407963674824,
  //           52.02891795362399
  //         ]
  //       ],
  //       [
  //         [
  //           5.5594287901231025,
  //           52.02911043599386
  //         ],
  //         [
  //           5.559429410596276,
  //           52.029112637176446
  //         ],
  //         [
  //           5.559199218997489,
  //           52.02914516051316
  //         ],
  //         [
  //           5.559178937090864,
  //           52.02908869979172
  //         ],
  //         [
  //           5.559187499188148,
  //           52.0290871592902
  //         ],
  //         [
  //           5.559269013732034,
  //           52.02907247031025
  //         ],
  //         [
  //           5.559412379325888,
  //           52.02905277422245
  //         ],
  //         [
  //           5.5594160435248146,
  //           52.02906589152322
  //         ],
  //         [
  //           5.5594287901231025,
  //           52.02911043599386
  //         ]
  //       ],
  //       [
  //         [
  //           5.559054180701628,
  //           52.029055706967995
  //         ],
  //         [
  //           5.559040118429222,
  //           52.02905928681268
  //         ],
  //         [
  //           5.55895283604046,
  //           52.029078424191816
  //         ],
  //         [
  //           5.558922538327428,
  //           52.029085065716735
  //         ],
  //         [
  //           5.55884282149944,
  //           52.02910880287714
  //         ],
  //         [
  //           5.5588067690942875,
  //           52.02911952439182
  //         ],
  //         [
  //           5.5587351223331405,
  //           52.02904379607712
  //         ],
  //         [
  //           5.558778998169892,
  //           52.02900990975569
  //         ],
  //         [
  //           5.5587767553822385,
  //           52.029006425634094
  //         ],
  //         [
  //           5.558774219479385,
  //           52.02900250152179
  //         ],
  //         [
  //           5.558858440629581,
  //           52.02893747536437
  //         ],
  //         [
  //           5.558921135498402,
  //           52.02892074682117
  //         ],
  //         [
  //           5.558920424587538,
  //           52.02890256487733
  //         ],
  //         [
  //           5.558927248960292,
  //           52.02888866825647
  //         ],
  //         [
  //           5.5589397501908415,
  //           52.028877010377926
  //         ],
  //         [
  //           5.558935043033772,
  //           52.02886926049711
  //         ],
  //         [
  //           5.559077797935232,
  //           52.02883865412044
  //         ],
  //         [
  //           5.559084472555301,
  //           52.028838896033825
  //         ],
  //         [
  //           5.559088914105284,
  //           52.02884198145871
  //         ],
  //         [
  //           5.5591436825568685,
  //           52.028939188896814
  //         ],
  //         [
  //           5.559154011295782,
  //           52.028957527552876
  //         ],
  //         [
  //           5.559036161539288,
  //           52.02898509560269
  //         ],
  //         [
  //           5.559053564730378,
  //           52.029009140380445
  //         ],
  //         [
  //           5.559026548808693,
  //           52.029016604044784
  //         ],
  //         [
  //           5.559041082801166,
  //           52.02903721056309
  //         ],
  //         [
  //           5.559054180701628,
  //           52.029055706967995
  //         ]
  //       ],
  //       [
  //         [
  //           5.558588571676974,
  //           52.0292287516853
  //         ],
  //         [
  //           5.558546896575999,
  //           52.029163900153534
  //         ],
  //         [
  //           5.558546236939619,
  //           52.02916287646805
  //         ],
  //         [
  //           5.558579293825625,
  //           52.02914233537531
  //         ],
  //         [
  //           5.558630987821771,
  //           52.029224555330785
  //         ],
  //         [
  //           5.558588571676974,
  //           52.0292287516853 
  //         ]
  //       ]
  // ];
 //  let surroundingBuildingsCoordsInverted = [
 //        [
 //          [
 //            52.02923411345772,
 //            5.558183839491989
 //          ],
 //          [
 //            52.02925165573401,
 //            5.558099012892382
 //          ],
 //          [
 //            52.02928138289277,
 //            5.558115213379071
 //          ],
 //          [
 //            52.029299332059196,
 //            5.558028683347841
 //          ],
 //          [
 //            52.029215907602534,
 //            5.55798306209029
 //          ],
 //          [
 //            52.02911267076411,
 //            5.557926801098701
 //          ],
 //          [
 //            52.02907845470038,
 //            5.55790702823919
 //          ],
 //          [
 //            52.02898654362798,
 //            5.557856435355767
 //          ],
 //          [
 //            52.028975688467035,
 //            5.557935225350694
 //          ],
 //          [
 //            52.02897474518424,
 //            5.557934901180531
 //          ],
 //          [
 //            52.02896653814754,
 //            5.557997410397648
 //          ],
 //          [
 //            52.02896571575674,
 //            5.558012867533867
 //          ],
 //          [
 //            52.02896508840535,
 //            5.558017804850053
 //          ],
 //          [
 //            52.0289630490641,
 //            5.5580171413518356
 //          ],
 //          [
 //            52.028952370370824,
 //            5.55810431050384
 //          ],
 //          [
 //            52.028945037078685,
 //            5.558165453284326
 //          ],
 //          [
 //            52.02894734595551,
 //            5.558166190675836
 //          ],
 //          [
 //            52.02894513520556,
 //            5.558184513065907
 //          ],
 //          [
 //            52.02919598002945,
 //            5.55834231906749
 //          ],
 //          [
 //            52.02919752784623,
 //            5.5583348643820285
 //          ],
 //          [
 //            52.02920234166028,
 //            5.558337491088874
 //          ],
 //          [
 //            52.029205039124925,
 //            5.558324430772451
 //          ],
 //          [
 //            52.029215484899964,
 //            5.558273922184175
 //          ],
 //          [
 //            52.029219802561265,
 //            5.558253072300289
 //          ],
 //          [
 //            52.029244804768034,
 //            5.558267331376081
 //          ],
 //          [
 //            52.02925931480873,
 //            5.558197137574717
 //          ],
 //          [
 //            52.02923411345772,
 //            5.558183839491989
 //          ]
 //        ],
 //        [
 //          [
 //            52.02908930582589,
 //            5.558529664351089
 //          ],
 //          [
 //            52.029091901439,
 //            5.558524836563949
 //          ],
 //          [
 //            52.029158180685926,
 //            5.558419359643931
 //          ],
 //          [
 //            52.029193704151396,
 //            5.558362142165282
 //          ],
 //          [
 //            52.02919206062684,
 //            5.55836124701804
 //          ],
 //          [
 //            52.02919598002945,
 //            5.55834231906749
 //          ],
 //          [
 //            52.02894513520556,
 //            5.558184513065907
 //          ],
 //          [
 //            52.02891795362399,
 //            5.558407963674824
 //          ],
 //          [
 //            52.029016624665395,
 //            5.558470124059828
 //          ],
 //          [
 //            52.02908930582589,
 //            5.558529664351089
 //          ]
 //        ],
 //        [
 //          [
 //            52.02905277422245,
 //            5.559412379325888
 //          ],
 //          [
 //            52.02907247031025,
 //            5.559269013732034
 //          ],
 //          [
 //            52.0290871592902,
 //            5.559187499188148
 //          ],
 //          [
 //            52.02911990791276,
 //            5.559005816830757
 //          ],
 //          [
 //            52.02912474679224,
 //            5.558978965616507
 //          ],
 //          [
 //            52.029078424191816,
 //            5.55895283604046
 //          ],
 //          [
 //            52.02905928681268,
 //            5.559040118429222
 //          ],
 //          [
 //            52.029055706967995,
 //            5.559054180701628
 //          ],
 //          [
 //            52.029044316449,
 //            5.559098987864811
 //          ],
 //          [
 //            52.02899716465992,
 //            5.559289575892001
 //          ],
 //          [
 //            52.029015718805475,
 //            5.559324618686867
 //          ],
 //          [
 //            52.029007956395795,
 //            5.559383748846907
 //          ],
 //          [
 //            52.029009851578756,
 //            5.559384644996295
 //          ],
 //          [
 //            52.02901702066473,
 //            5.559399273158919
 //          ],
 //          [
 //            52.02901672860882,
 //            5.559402302893686
 //          ],
 //          [
 //            52.02905277422245,
 //            5.559412379325888
 //          ]
 //        ]
 //  ];

 //      // GeoJSON has longitude first
 //      let lng = buildingGeoJSON.coordinates[0][i][0];
 //      let lat = buildingGeoJSON.coordinates[0][i][1];
 //      // Polygon of react-leaflet has latitude first
 //      latlngs.push([lat, lng]);
 //  let surroundingBuildings = []; // map om coordinaten om te zetten in react components?
 //  for (var i = 0; i < surroundingBuildingsCoords.length; i++) {
 //  	console.log(surroundingBuildingsCoords); // building
	// //   // Building = surroundingBuildingsCoords[i]
	// let surroundingBuilding_building_coords = [];
 //    for (var i = 0; i < surroundingBuildingsCoords[i].length; i++) { // coords in building
	// 	//     // GeoJSON has longitude first
	// 	//     // Building coords = surroundingBuildingsCoords[i][i]
	// 	//     // Building coords lng = surroundingBuildingsCoords[i][i][0]
	// 	console.log(surroundingBuildingsCoords[i][i][0]);
	// 	let lng = surroundingBuildingsCoords[i][i][0];
	// 	//     // Building coords lat = surroundingBuildingsCoords[i][i][1]
	// 	console.log(surroundingBuildingsCoords[i][i][1]);
	// 	let lat = surroundingBuildingsCoords[i][i][1];
	// 	//     // Polygon of react-leaflet has latitude first
 //        surroundingBuilding_building_coords.push([lat, lng]);
 //    }
 //    surroundingBuildings.push(surroundingBuilding_building_coords);
 //  }
  // // console.log(surroundingBuildings);
  // console.log(surroundingBuildings[0]);
  // console.log(surroundingBuildings[1]);
  // console.log(surroundingBuildings[2]);
  // console.log(surroundingBuildings[3]);
  const map = (
    <Map
      center={position}
      zoom={zoomLevel}
      zoomControl={false} // removes +/- zoomcontrol on the map
      doubleClickZoom={false}
      closePopupOnClick={false}
      dragging={false}
      zoomSnap={false}
      zoomDelta={false}
      trackResize={false}
      touchZoom={false}
      scrollWheelZoom={false}
      draggable={false}
    >
      <TileLayer
        url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
        attribution="&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors"
      />
      <FeatureGroup>
      {
        buildingCoordsAndLabels.map((building) => {
          return (
            <Polygon
              positions={building.coords}
              color={building.color}
            />
          );
        })
      }
      </FeatureGroup>
    </Map>
  );

  return (
    <div className="MapContainer">
      {map}
    </div>
  );

        // {surroundingBuildings.map((buildingCoords) => {
        //   return(
        //   <Polygon
        //     positions={buildingCoords}
        //     color={"grey"}
        //   />
        //   );
        // })}
}
